# Лекция 7. Анонимные классы, интерфейсы, методы. Лямбда-выражения.

## Анонимный объект

При создании объектов с помощью оператора new возвращается ссылка на вновь созданный объект. Однако нас никто не обязывает эту ссылку присваивать в качестве значения ссылочной переменной. В таких случаях создается **анонимный объект**. Другими словами, объект есть, а переменной, которая бы содержала ссылку на этот объект, нет.

С практической точки зрения это может выглядеть бесполезным, однако, анонимные объекты требуются довольно часто - обычно в тех ситуациях, когда объект класса используется один раз. Рассмотрим пример:

```java
class PrintManager {

    // Различные поля и методы
    public void printFile(File file) {
        // Распечатка файла на принтере   
    }
}
```

В данном случае, нам нужен объект класса `PrintManager` только для одного действия - для распечатки файла. То есть, мы создаем объект, вызываем метод, после чего объект нам больше не нужен.

В таких случаях удобно использовать анонимные объекты.

```java
File file = new File("file.txt");

// Обычное создание объекта и вызов его метода
PrintManager manager = new PrintManager();
manager.printFile(file);

// Использование анонимного объекта
new PrintManager().printFile(file);

// Использование двух анонимных объектов
new PrintManager().printFile(new File("file.txt"));
```
В первом случае используется обычный порядок работы с объектами - создаем объект класса `PrintManager`, ссылка на объект записывается в ссылочную переменную `manager`.
Во втором случае мы создаем анонимный объект. Инструкция

```java
new PrintManager().printFile(file);
```

выполняется следующим образом. Сначала создается новый объект класса `PrintManager`, оператор new возвращает ссылку на созданный объект. После чего, мы вызываем метод `printFile()` с аргументом `file`.

В третьем случае, мы в качестве аргумента метода `printFile()` передаем анонимный объект класса `File`. В этом случае, ссылку на объект класса File будет хранить параметр метода `printFile()` внутри тела метода.

## Анонимные классы

Механизм анонимных классов позволяет объявить класс и сразу создать его экземпляр. Это позволяет сделать код кратким и выразительным. Анонимные классы удобно использовать, если класс нужен единожды.

Основная особенность - анонимный класс не имеет имени. **Анонимный класс может быть подклассом существующего класса или реализацией интерфейса.**

Особенности анонимного класса:

- нет явного конструктора;
- к анонимному классу невозможно обратиться извне объявляющего его выражения;
- анонимные классы не могут быть статическими;
- анонимный класс всегда конечен (`final`);
- каждое объявление анонимного класса уникально.

В примере ниже объявлены два анонимный класса, которые являются подклассами `PrintManager`. Оба анонимных класса являются разными уникальными классами.
```java
PrintManager manager1 = new PrintManager() {
    @Override
    public void printFile(File file) {
        super.printFile(file);
    }
};

PrintManager manager2 = new PrintManager() {
    @Override
    public void printFile(File file) {
        super.printFile(file);
    }
};
```

## Анонимные методы (лямбда-выражения)

>⚠️ Из-за особенностей реализации лямбда-выражений в Java, дальнейшая информация по поводу лямбда-выражений справедлива только для языка Java.
